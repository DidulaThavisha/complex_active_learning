{
  "entry_id": "problem_0249",
  "problem_index": 249,
  "prompt": "Title: Multiplication Table\n\nTime Limit: None seconds\n\nMemory Limit: None megabytes\n\nProblem Description:\nBizon the Champion isn't just charming, he also is very smart.\n\nWhile some of us were learning the multiplication table, Bizon the Champion had fun in his own manner. Bizon the Champion painted an *n*<=×<=*m* multiplication table, where the element on the intersection of the *i*-th row and *j*-th column equals *i*·*j* (the rows and columns of the table are numbered starting from 1). Then he was asked: what number in the table is the *k*-th largest number? Bizon the Champion always answered correctly and immediately. Can you repeat his success?\n\nConsider the given multiplication table. If you write out all *n*·*m* numbers from the table in the non-decreasing order, then the *k*-th number you write out is called the *k*-th largest number.\n\nInput Specification:\nThe single line contains integers *n*, *m* and *k* (1<=≤<=*n*,<=*m*<=≤<=5·105; 1<=≤<=*k*<=≤<=*n*·*m*).\n\nOutput Specification:\nPrint the *k*-th largest number in a *n*<=×<=*m* multiplication table.\n\nDemo Input:\n['2 2 2\\n', '2 3 4\\n', '1 10 5\\n']\n\nDemo Output:\n['2\\n', '3\\n', '5\\n']\n\nNote:\nA 2 × 3 multiplication table looks like this:",
  "rating": 1800,
  "final_status": "success",
  "successful_attempt": 1,
  "completion": "# Overview\n\nThis problem asks us to find the k-th largest (k-th smallest when sorted in non-decreasing order) element in an n×m multiplication table. \n\nThe key insight is that we don't need to generate the entire multiplication table and sort it (which would be memory-intensive for large n and m). Instead, we can use binary search on the answer. For a given value `mid`, we can count how many elements in the multiplication table are less than or equal to `mid`. If this count is >= k, then our answer is at most `mid`; otherwise, it's greater than `mid`.\n\nFor counting elements <= mid in row i: the count is min(mid/i, m) because row i contains values i*1, i*2, ..., i*m, and we want i*j <= mid, which means j <= mid/i.\n\n<CODE>\n```ballerina\n// Reasoning:\n// 1. The multiplication table has n rows and m columns\n// 2. Element at position (i,j) is i*j\n// 3. We need to find the k-th smallest element\n// 4. Use binary search: search space is [1, n*m]\n// 5. For each candidate value, count how many elements in the table are <= candidate\n// 6. If count >= k, the answer could be this value or smaller\n// 7. If count < k, the answer must be larger\n// 8. To count elements <= mid: for each row i, count min(mid/i, m)\n\nimport ballerina/io;\n\nfunction countLessOrEqual(int n, int m, int mid) returns int {\n    int count = 0;\n    int i = 1;\n    while i <= n {\n        int elementsInRow = mid / i;\n        if elementsInRow > m {\n            elementsInRow = m;\n        }\n        count = count + elementsInRow;\n        i = i + 1;\n    }\n    return count;\n}\n\nfunction findKthLargest(int n, int m, int k) returns int {\n    int left = 1;\n    int right = n * m;\n    int result = 1;\n    \n    while left <= right {\n        int mid = (left + right) / 2;\n        int count = countLessOrEqual(n, m, mid);\n        \n        if count >= k {\n            result = mid;\n            right = mid - 1;\n        } else {\n            left = mid + 1;\n        }\n    }\n    \n    return result;\n}\n\npublic function main() returns error? {\n    string? input_line = io:readln();\n    \n    if input_line is string {\n        string trimmed = input_line.trim();\n        string[] parts = re `\\s+`.split(trimmed);\n        \n        if parts.length() != 3 {\n            io:println(\"Error: Expected 3 integers\");\n            return;\n        }\n        \n        int|error n_result = 'int:fromString(parts[0]);\n        int|error m_result = 'int:fromString(parts[1]);\n        int|error k_result = 'int:fromString(parts[2]);\n        \n        if n_result is error {\n            io:println(\"Error: Invalid input for n\");\n            return;\n        }\n        \n        if m_result is error {\n            io:println(\"Error: Invalid input for m\");\n            return;\n        }\n        \n        if k_result is error {\n            io:println(\"Error: Invalid input for k\");\n            return;\n        }\n        \n        int n = n_result;\n        int m = m_result;\n        int k = k_result;\n        \n        if n < 1 || m < 1 || k < 1 || k > n * m {\n            io:println(\"Error: Invalid input range\");\n            return;\n        }\n        \n        int result = findKthLargest(n, m, k);\n        io:println(result);\n    } else {\n        io:println(\"Error: No input provided\");\n    }\n}\n```\n</CODE>\n\n<TESTS>\n```ballerina\nimport ballerina/test;\n\n@test:Config {}\nfunction testFindKthLargest() {\n    // Test case 1: 2x2 table, k=2\n    // Table: [1, 2]\n    //        [2, 4]\n    // Sorted: [1, 2, 2, 4], 2nd element is 2\n    int result = findKthLargest(2, 2, 2);\n    test:assertEquals(result, 2);\n    \n    // Test case 2: 2x3 table, k=4\n    // Table: [1, 2, 3]\n    //        [2, 4, 6]\n    // Sorted: [1, 2, 2, 3, 4, 6], 4th element is 3\n    result = findKthLargest(2, 3, 4);\n    test:assertEquals(result, 3);\n    \n    // Test case 3: 1x10 table, k=5\n    // Table: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n    // Sorted: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 5th element is 5\n    result = findKthLargest(1, 10, 5);\n    test:assertEquals(result, 5);\n    \n    // Test case 4: 3x3 table, k=1 (first element)\n    // Table: [1, 2, 3]\n    //        [2, 4, 6]\n    //        [3, 6, 9]\n    // Sorted: [1, 2, 2, 3, 3, 4, 6, 6, 9], 1st element is 1\n    result = findKthLargest(3, 3, 1);\n    test:assertEquals(result, 1);\n}\n\n@test:Config {}\nfunction testCountLessOrEqual() {\n    // Test countLessOrEqual helper function\n    // For 2x2 table, elements <= 2 should be 3 (1, 2, 2)\n    int count = countLessOrEqual(2, 2, 2);\n    test:assertEquals(count, 3);\n    \n    // For 2x3 table, elements <= 3 should be 4 (1, 2, 2, 3)\n    count = countLessOrEqual(2, 3, 3);\n    test:assertEquals(count, 4);\n    \n    // For 1x10 table, elements <= 5 should be 5\n    count = countLessOrEqual(1, 10, 5);\n    test:assertEquals(count, 5);\n    \n    // For 3x3 table, elements <= 1 should be 1\n    count = countLessOrEqual(3, 3, 1);\n    test:assertEquals(count, 1);\n}\n```\n</TESTS>",
  "code": "// Reasoning:\n// 1. The multiplication table has n rows and m columns\n// 2. Element at position (i,j) is i*j\n// 3. We need to find the k-th smallest element\n// 4. Use binary search: search space is [1, n*m]\n// 5. For each candidate value, count how many elements in the table are <= candidate\n// 6. If count >= k, the answer could be this value or smaller\n// 7. If count < k, the answer must be larger\n// 8. To count elements <= mid: for each row i, count min(mid/i, m)\n\nimport ballerina/io;\n\nfunction countLessOrEqual(int n, int m, int mid) returns int {\n    int count = 0;\n    int i = 1;\n    while i <= n {\n        int elementsInRow = mid / i;\n        if elementsInRow > m {\n            elementsInRow = m;\n        }\n        count = count + elementsInRow;\n        i = i + 1;\n    }\n    return count;\n}\n\nfunction findKthLargest(int n, int m, int k) returns int {\n    int left = 1;\n    int right = n * m;\n    int result = 1;\n    \n    while left <= right {\n        int mid = (left + right) / 2;\n        int count = countLessOrEqual(n, m, mid);\n        \n        if count >= k {\n            result = mid;\n            right = mid - 1;\n        } else {\n            left = mid + 1;\n        }\n    }\n    \n    return result;\n}\n\npublic function main() returns error? {\n    string? input_line = io:readln();\n    \n    if input_line is string {\n        string trimmed = input_line.trim();\n        string[] parts = re `\\s+`.split(trimmed);\n        \n        if parts.length() != 3 {\n            io:println(\"Error: Expected 3 integers\");\n            return;\n        }\n        \n        int|error n_result = 'int:fromString(parts[0]);\n        int|error m_result = 'int:fromString(parts[1]);\n        int|error k_result = 'int:fromString(parts[2]);\n        \n        if n_result is error {\n            io:println(\"Error: Invalid input for n\");\n            return;\n        }\n        \n        if m_result is error {\n            io:println(\"Error: Invalid input for m\");\n            return;\n        }\n        \n        if k_result is error {\n            io:println(\"Error: Invalid input for k\");\n            return;\n        }\n        \n        int n = n_result;\n        int m = m_result;\n        int k = k_result;\n        \n        if n < 1 || m < 1 || k < 1 || k > n * m {\n            io:println(\"Error: Invalid input range\");\n            return;\n        }\n        \n        int result = findKthLargest(n, m, k);\n        io:println(result);\n    } else {\n        io:println(\"Error: No input provided\");\n    }\n}",
  "tests_passed": 3,
  "tests_total": 3,
  "tests_pass_rate": 1.0,
  "validation_msg": "Passed 3/3 tests (100.0%)",
  "all_attempts": [
    {
      "attempt_number": 1,
      "timestamp": "2026-01-05T04:33:48.613212",
      "status": "success",
      "completion": "# Overview\n\nThis problem asks us to find the k-th largest (k-th smallest when sorted in non-decreasing order) element in an n×m multiplication table. \n\nThe key insight is that we don't need to generate the entire multiplication table and sort it (which would be memory-intensive for large n and m). Instead, we can use binary search on the answer. For a given value `mid`, we can count how many elements in the multiplication table are less than or equal to `mid`. If this count is >= k, then our answer is at most `mid`; otherwise, it's greater than `mid`.\n\nFor counting elements <= mid in row i: the count is min(mid/i, m) because row i contains values i*1, i*2, ..., i*m, and we want i*j <= mid, which means j <= mid/i.\n\n<CODE>\n```ballerina\n// Reasoning:\n// 1. The multiplication table has n rows and m columns\n// 2. Element at position (i,j) is i*j\n// 3. We need to find the k-th smallest element\n// 4. Use binary search: search space is [1, n*m]\n// 5. For each candidate value, count how many elements in the table are <= candidate\n// 6. If count >= k, the answer could be this value or smaller\n// 7. If count < k, the answer must be larger\n// 8. To count elements <= mid: for each row i, count min(mid/i, m)\n\nimport ballerina/io;\n\nfunction countLessOrEqual(int n, int m, int mid) returns int {\n    int count = 0;\n    int i = 1;\n    while i <= n {\n        int elementsInRow = mid / i;\n        if elementsInRow > m {\n            elementsInRow = m;\n        }\n        count = count + elementsInRow;\n        i = i + 1;\n    }\n    return count;\n}\n\nfunction findKthLargest(int n, int m, int k) returns int {\n    int left = 1;\n    int right = n * m;\n    int result = 1;\n    \n    while left <= right {\n        int mid = (left + right) / 2;\n        int count = countLessOrEqual(n, m, mid);\n        \n        if count >= k {\n            result = mid;\n            right = mid - 1;\n        } else {\n            left = mid + 1;\n        }\n    }\n    \n    return result;\n}\n\npublic function main() returns error? {\n    string? input_line = io:readln();\n    \n    if input_line is string {\n        string trimmed = input_line.trim();\n        string[] parts = re `\\s+`.split(trimmed);\n        \n        if parts.length() != 3 {\n            io:println(\"Error: Expected 3 integers\");\n            return;\n        }\n        \n        int|error n_result = 'int:fromString(parts[0]);\n        int|error m_result = 'int:fromString(parts[1]);\n        int|error k_result = 'int:fromString(parts[2]);\n        \n        if n_result is error {\n            io:println(\"Error: Invalid input for n\");\n            return;\n        }\n        \n        if m_result is error {\n            io:println(\"Error: Invalid input for m\");\n            return;\n        }\n        \n        if k_result is error {\n            io:println(\"Error: Invalid input for k\");\n            return;\n        }\n        \n        int n = n_result;\n        int m = m_result;\n        int k = k_result;\n        \n        if n < 1 || m < 1 || k < 1 || k > n * m {\n            io:println(\"Error: Invalid input range\");\n            return;\n        }\n        \n        int result = findKthLargest(n, m, k);\n        io:println(result);\n    } else {\n        io:println(\"Error: No input provided\");\n    }\n}\n```\n</CODE>\n\n<TESTS>\n```ballerina\nimport ballerina/test;\n\n@test:Config {}\nfunction testFindKthLargest() {\n    // Test case 1: 2x2 table, k=2\n    // Table: [1, 2]\n    //        [2, 4]\n    // Sorted: [1, 2, 2, 4], 2nd element is 2\n    int result = findKthLargest(2, 2, 2);\n    test:assertEquals(result, 2);\n    \n    // Test case 2: 2x3 table, k=4\n    // Table: [1, 2, 3]\n    //        [2, 4, 6]\n    // Sorted: [1, 2, 2, 3, 4, 6], 4th element is 3\n    result = findKthLargest(2, 3, 4);\n    test:assertEquals(result, 3);\n    \n    // Test case 3: 1x10 table, k=5\n    // Table: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n    // Sorted: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 5th element is 5\n    result = findKthLargest(1, 10, 5);\n    test:assertEquals(result, 5);\n    \n    // Test case 4: 3x3 table, k=1 (first element)\n    // Table: [1, 2, 3]\n    //        [2, 4, 6]\n    //        [3, 6, 9]\n    // Sorted: [1, 2, 2, 3, 3, 4, 6, 6, 9], 1st element is 1\n    result = findKthLargest(3, 3, 1);\n    test:assertEquals(result, 1);\n}\n\n@test:Config {}\nfunction testCountLessOrEqual() {\n    // Test countLessOrEqual helper function\n    // For 2x2 table, elements <= 2 should be 3 (1, 2, 2)\n    int count = countLessOrEqual(2, 2, 2);\n    test:assertEquals(count, 3);\n    \n    // For 2x3 table, elements <= 3 should be 4 (1, 2, 2, 3)\n    count = countLessOrEqual(2, 3, 3);\n    test:assertEquals(count, 4);\n    \n    // For 1x10 table, elements <= 5 should be 5\n    count = countLessOrEqual(1, 10, 5);\n    test:assertEquals(count, 5);\n    \n    // For 3x3 table, elements <= 1 should be 1\n    count = countLessOrEqual(3, 3, 1);\n    test:assertEquals(count, 1);\n}\n```\n</TESTS>",
      "code": "// Reasoning:\n// 1. The multiplication table has n rows and m columns\n// 2. Element at position (i,j) is i*j\n// 3. We need to find the k-th smallest element\n// 4. Use binary search: search space is [1, n*m]\n// 5. For each candidate value, count how many elements in the table are <= candidate\n// 6. If count >= k, the answer could be this value or smaller\n// 7. If count < k, the answer must be larger\n// 8. To count elements <= mid: for each row i, count min(mid/i, m)\n\nimport ballerina/io;\n\nfunction countLessOrEqual(int n, int m, int mid) returns int {\n    int count = 0;\n    int i = 1;\n    while i <= n {\n        int elementsInRow = mid / i;\n        if elementsInRow > m {\n            elementsInRow = m;\n        }\n        count = count + elementsInRow;\n        i = i + 1;\n    }\n    return count;\n}\n\nfunction findKthLargest(int n, int m, int k) returns int {\n    int left = 1;\n    int right = n * m;\n    int result = 1;\n    \n    while left <= right {\n        int mid = (left + right) / 2;\n        int count = countLessOrEqual(n, m, mid);\n        \n        if count >= k {\n            result = mid;\n            right = mid - 1;\n        } else {\n            left = mid + 1;\n        }\n    }\n    \n    return result;\n}\n\npublic function main() returns error? {\n    string? input_line = io:readln();\n    \n    if input_line is string {\n        string trimmed = input_line.trim();\n        string[] parts = re `\\s+`.split(trimmed);\n        \n        if parts.length() != 3 {\n            io:println(\"Error: Expected 3 integers\");\n            return;\n        }\n        \n        int|error n_result = 'int:fromString(parts[0]);\n        int|error m_result = 'int:fromString(parts[1]);\n        int|error k_result = 'int:fromString(parts[2]);\n        \n        if n_result is error {\n            io:println(\"Error: Invalid input for n\");\n            return;\n        }\n        \n        if m_result is error {\n            io:println(\"Error: Invalid input for m\");\n            return;\n        }\n        \n        if k_result is error {\n            io:println(\"Error: Invalid input for k\");\n            return;\n        }\n        \n        int n = n_result;\n        int m = m_result;\n        int k = k_result;\n        \n        if n < 1 || m < 1 || k < 1 || k > n * m {\n            io:println(\"Error: Invalid input range\");\n            return;\n        }\n        \n        int result = findKthLargest(n, m, k);\n        io:println(result);\n    } else {\n        io:println(\"Error: No input provided\");\n    }\n}",
      "tests_passed": 3,
      "tests_total": 3,
      "tests_pass_rate": 1.0,
      "validation_msg": "Passed 3/3 tests (100.0%)",
      "error": null,
      "error_details": {}
    }
  ],
  "total_attempts": 1,
  "timestamp": "2026-01-05T04:34:27.251381"
}