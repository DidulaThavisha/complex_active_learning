{
  "entry_id": "problem_0455",
  "problem_index": 455,
  "prompt": "Title: Mahmoud and a Message\n\nTime Limit: None seconds\n\nMemory Limit: None megabytes\n\nProblem Description:\nMahmoud wrote a message *s* of length *n*. He wants to send it as a birthday present to his friend Moaz who likes strings. He wrote it on a magical paper but he was surprised because some characters disappeared while writing the string. That's because this magical paper doesn't allow character number *i* in the English alphabet to be written on it in a string of length more than *a**i*. For example, if *a*1<==<=2 he can't write character 'a' on this paper in a string of length 3 or more. String \"aa\" is allowed while string \"aaa\" is not.\n\nMahmoud decided to split the message into some non-empty substrings so that he can write every substring on an independent magical paper and fulfill the condition. The sum of their lengths should be *n* and they shouldn't overlap. For example, if *a*1<==<=2 and he wants to send string \"aaa\", he can split it into \"a\" and \"aa\" and use 2 magical papers, or into \"a\", \"a\" and \"a\" and use 3 magical papers. He can't split it into \"aa\" and \"aa\" because the sum of their lengths is greater than *n*. He can split the message into single string if it fulfills the conditions.\n\nA substring of string *s* is a string that consists of some consecutive characters from string *s*, strings \"ab\", \"abc\" and \"b\" are substrings of string \"abc\", while strings \"acb\" and \"ac\" are not. Any string is a substring of itself.\n\nWhile Mahmoud was thinking of how to split the message, Ehab told him that there are many ways to split it. After that Mahmoud asked you three questions: \n -  How many ways are there to split the string into substrings such that every substring fulfills the condition of the magical paper, the sum of their lengths is *n* and they don't overlap? Compute the answer modulo 109<=+<=7. -  What is the maximum length of a substring that can appear in some valid splitting? -  What is the minimum number of substrings the message can be spit in? \nTwo ways are considered different, if the sets of split positions differ. For example, splitting \"aa|a\" and \"a|aa\" are considered different splittings of message \"aaa\".\n\nInput Specification:\nThe first line contains an integer *n* (1<=≤<=*n*<=≤<=103) denoting the length of the message.\n\nThe second line contains the message *s* of length *n* that consists of lowercase English letters.\n\nThe third line contains 26 integers *a*1,<=*a*2,<=...,<=*a*26 (1<=≤<=*a**x*<=≤<=103) — the maximum lengths of substring each letter can appear in.\n\nOutput Specification:\nPrint three lines.\n\nIn the first line print the number of ways to split the message into substrings and fulfill the conditions mentioned in the problem modulo 109<=<=+<=<=7.\n\nIn the second line print the length of the longest substring over all the ways.\n\nIn the third line print the minimum number of substrings over all the ways.\n\nDemo Input:\n['3\\naab\\n2 3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\\n', '10\\nabcdeabcde\\n5 5 5 5 4 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\\n']\n\nDemo Output:\n['3\\n2\\n2\\n', '401\\n4\\n3\\n']\n\nNote:\nIn the first example the three ways to split the message are: \n -  a|a|b -  aa|b -  a|ab \nThe longest substrings are \"aa\" and \"ab\" of length 2.\n\nThe minimum number of substrings is 2 in \"a|ab\" or \"aa|b\".\n\nNotice that \"aab\" is not a possible splitting because the letter 'a' appears in a substring of length 3, while *a*<sub class=\"lower-index\">1</sub> = 2.",
  "rating": 1700,
  "final_status": "failed",
  "all_attempts": [
    {
      "attempt_number": 1,
      "timestamp": "2026-01-05T10:01:00.247783",
      "status": "failed",
      "completion": null,
      "code": null,
      "tests_passed": 0,
      "tests_total": 2,
      "tests_pass_rate": 0.0,
      "validation_msg": "API call failed",
      "error": "API call failed",
      "error_details": {}
    },
    {
      "attempt_number": 2,
      "timestamp": "2026-01-05T10:01:00.535919",
      "status": "failed",
      "completion": null,
      "code": null,
      "tests_passed": 0,
      "tests_total": 2,
      "tests_pass_rate": 0.0,
      "validation_msg": "API call failed",
      "error": "API call failed",
      "error_details": {}
    }
  ],
  "total_attempts": 2,
  "last_error": "API call failed",
  "timestamp": "2026-01-05T10:01:00.805889"
}