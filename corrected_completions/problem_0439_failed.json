{
  "entry_id": "problem_0439",
  "problem_index": 439,
  "prompt": "Title: Artsem and Saunders\n\nTime Limit: None seconds\n\nMemory Limit: None megabytes\n\nProblem Description:\nArtsem has a friend Saunders from University of Chicago. Saunders presented him with the following problem.\n\nLet [*n*] denote the set {1,<=...,<=*n*}. We will also write *f*:<=[*x*]<=→<=[*y*] when a function *f* is defined in integer points 1, ..., *x*, and all its values are integers from 1 to *y*.\n\nNow then, you are given a function *f*:<=[*n*]<=→<=[*n*]. Your task is to find a positive integer *m*, and two functions *g*:<=[*n*]<=→<=[*m*], *h*:<=[*m*]<=→<=[*n*], such that *g*(*h*(*x*))<==<=*x* for all , and *h*(*g*(*x*))<==<=*f*(*x*) for all , or determine that finding these is impossible.\n\nInput Specification:\nThe first line contains an integer *n* (1<=≤<=*n*<=≤<=105).\n\nThe second line contains *n* space-separated integers — values *f*(1),<=...,<=*f*(*n*) (1<=≤<=*f*(*i*)<=≤<=*n*).\n\nOutput Specification:\nIf there is no answer, print one integer -1.\n\nOtherwise, on the first line print the number *m* (1<=≤<=*m*<=≤<=106). On the second line print *n* numbers *g*(1),<=...,<=*g*(*n*). On the third line print *m* numbers *h*(1),<=...,<=*h*(*m*).\n\nIf there are several correct answers, you may output any of them. It is guaranteed that if a valid answer exists, then there is an answer satisfying the above restrictions.\n\nDemo Input:\n['3\\n1 2 3\\n', '3\\n2 2 2\\n', '2\\n2 1\\n']\n\nDemo Output:\n['3\\n1 2 3\\n1 2 3\\n', '1\\n1 1 1\\n2\\n', '-1\\n']\n\nNote:\nnone",
  "rating": 1700,
  "final_status": "failed",
  "all_attempts": [
    {
      "attempt_number": 1,
      "timestamp": "2026-01-05T10:00:50.172947",
      "status": "failed",
      "completion": null,
      "code": null,
      "tests_passed": 0,
      "tests_total": 3,
      "tests_pass_rate": 0.0,
      "validation_msg": "API call failed",
      "error": "API call failed",
      "error_details": {}
    },
    {
      "attempt_number": 2,
      "timestamp": "2026-01-05T10:00:50.515763",
      "status": "failed",
      "completion": null,
      "code": null,
      "tests_passed": 0,
      "tests_total": 3,
      "tests_pass_rate": 0.0,
      "validation_msg": "API call failed",
      "error": "API call failed",
      "error_details": {}
    }
  ],
  "total_attempts": 2,
  "last_error": "API call failed",
  "timestamp": "2026-01-05T10:00:50.792527"
}